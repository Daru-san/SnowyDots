bar {
    anchors "top" "left" "right"
    height 20
    margins 2
    monitors "HDMI-A-2"

    modules {
        start {
            niri-workspaces
        }

        center {
            music
            clock
            notification-icon
            system-tray
        }

        end {
            group {
                css-name "stats"
                spacing 5
                modules {
                    net-stats
                    cpu
                    memory
                }
            }
            group {
                css-name "system"
                spacing 5

                modules {
                    network
                    bluetooth
                    audio
                }
            }
        }
    }

    configs {
        audio {
            hide-slider
        }

        niri-workspaces {
            format "{index:d}"
        }

        network {
            hide-label
            tooltip-format "{ssid}"
        }

        cpu {
            format "{usage:.2f}%"
            tooltip-format "{all_cores}"
            interval 1000
        }

        memory {
            format "{ram_percentage:.2f}% : {swap_percentage:.2f}%"
            tooltip-format "RAM: {used:.2f}Mb/{total:.2f}Mb\nSwap: {used_swap:.2f}Mb/{total_swap:.2f}Mb"
            unit-format "Mb"
        }

        clock {
            format "%R î®Š %a %e"
            interval 1000
        }

        net-stats {
            interval 1000
            preferred-interface "wlan0"
            tooltip-format "Connected to wlan0"
        }

        music {
            hide-art
            format "{artist}: {title}"
            tooltip-format "{artist} - {album}: {title}"
            max-chars 18
        }

        bluetooth {
            toggle-on-click
            tooltip-format "Bluetooth is {state}"
        }

        disk {
            format "{used_space:.0f}Gb/{total_space:.0f}Gb"
            tooltip-format "{mount_point} Read: {read} Write {write}"
            interval 1000
            select mountpoint="/nix/store"
            unit-format "Gb"
        }
    }
}
